#!/usr/bin/env bash
set -euo pipefail

# Current workspace ID (e.g., 10, 11, 12, 20, 21, 22, …)
CUR=$(hyprctl activeworkspace -j | jq -r '.id')

# Base of the 3-pack (10,20,30,40, …)
BASE=$(( (CUR/10)*10 ))

# Cycle within three slots: BASE, BASE+1, BASE+2
OFFSET=$(( (CUR - BASE + 1) % 3 ))
NEXT=$(( BASE + OFFSET ))

hyprctl dispatch workspace "$NEXT"
